{"ast":null,"code":"import _toConsumableArray from\"/Users/dimashkabura/Desktop/code/kardia-info/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/dimashkabura/Desktop/code/kardia-info/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _classCallCheck from\"/Users/dimashkabura/Desktop/code/kardia-info/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/dimashkabura/Desktop/code/kardia-info/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/dimashkabura/Desktop/code/kardia-info/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/dimashkabura/Desktop/code/kardia-info/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import Loader from'./components/Loader';import Smallchart from'./components/Smallchart';import Td from'./components/subcomponents/Td';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Tokens=/*#__PURE__*/function(_React$Component){_inherits(Tokens,_React$Component);var _super=_createSuper(Tokens);function Tokens(props){var _this;_classCallCheck(this,Tokens);_this=_super.call(this,props);_this.state={error:null,isLoaded:false,data:[]};return _this;}_createClass(Tokens,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;document.title=\"Tokens - Kardia info\";Promise.all([fetch('https://api.kardiainfo.com/tokens').then(function(res){return res.json();})]).then(function(_ref){var _ref2=_slicedToArray(_ref,1),urlData=_ref2[0];_this2.setState({isLoaded:true,data:urlData});},function(error){_this2.setState({isLoaded:true,error:error});});}},{key:\"render\",value:function render(){var _this$state=this.state,error=_this$state.error,isLoaded=_this$state.isLoaded,data=_this$state.data;if(error){return/*#__PURE__*/_jsxs(\"div\",{children:[\"Error: \",error.message]});}else if(!isLoaded){return/*#__PURE__*/_jsx(Loader,{});}else{var numberWithCommas=function numberWithCommas(x){return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\");};var abbreviateNumber=function abbreviateNumber(num,fixed){if(num===null){return null;}// terminate early\nif(num===0){return'0';}// terminate early\nfixed=!fixed||fixed<0?0:fixed;// number of decimal places to show\nvar b=num.toPrecision(4).split(\"e\"),// get power\nk=b.length===1?0:Math.floor(Math.min(b[1].slice(1),14)/3),// floor at decimals, ceiling at trillions\nc=k<1?num.toFixed(0+fixed):(num/Math.pow(10,k*3)).toFixed(1+fixed),// divide by power\nd=c<0?c:Math.abs(c),// enforce -0 is 0\ne=d+['','k','m','b','t'][k];// append power\nreturn e;};var table=[];var combinedVal=0;var tokens=[];var dayCol=[];var weekCol=[];var histData=[];var chartCol=[];tokens=data.tokens;tokens.sort(function(a,b){return b.tvl-a.tvl;});for(var i=0;i<tokens.length;i++){combinedVal=combinedVal+tokens[i].tvl;if(tokens[i].dayChange<0){dayCol[i]='t-red';}else if(tokens[i].dayChange===0){dayCol[i]='t-grey';}else if(tokens[i].dayChange>0){dayCol[i]='t-green';}else{dayCol[i]='t-grey';}if(tokens[i].weekChange<0){weekCol[i]='t-red';chartCol[i]='#ea3943';}else if(tokens[i].weekChange===0){weekCol[i]='t-grey';chartCol[i]='#666666';}else if(tokens[i].weekChange>0){weekCol[i]='t-green';chartCol[i]='#16c784';}else{weekCol[i]='t-grey';if(tokens[i].histData[0]>tokens[i].histData[tokens[i].histData.length-1]){chartCol[i]='#16c784';}else if(tokens[i].histData[0]<tokens[i].histData[tokens[i].histData.length-1]){chartCol[i]='#ea3943';}else{chartCol[i]='#666666';}}histData.push(_toConsumableArray(tokens[i].histData).reverse());}var every_nth=function every_nth(arr,nth){return arr.filter(function(e,i){return i%nth===nth-1;});};for(var _i=0;_i<tokens.length;_i++){var link=\"/tokens/\".concat(tokens[_i].symbol.replace(/\\s+/g,'_'));table.push(/*#__PURE__*/_jsxs(\"tr\",{className:\"table-row\",children:[/*#__PURE__*/_jsx(Td,{cn:\"numtd trans-0-2 psnu\",to:link,children:/*#__PURE__*/_jsx(\"span\",{className:\"txt-l fw-400 t-lg fs-14 \",children:_i+1})}),/*#__PURE__*/_jsx(Td,{cn:\"logotd trans-0-2 pslo\",to:link,children:/*#__PURE__*/_jsx(\"img\",{alt:tokens[_i].name,className:\"tokenlogo ab-c-m\",src:tokens[_i].logo})}),/*#__PURE__*/_jsxs(Td,{cn:\"psnam trans-0-2\",to:link,children:[/*#__PURE__*/_jsx(\"span\",{className:\"fs-14\",children:tokens[_i].name}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{className:\"fs-12 t-s fw-400\",children:[tokens[_i].symbol,/*#__PURE__*/_jsxs(\"span\",{className:\"pd fs-12 t-s fw-400\",children:[\" - Tvl: $\",abbreviateNumber(tokens[_i].tvl)]})]})]}),/*#__PURE__*/_jsx(Td,{to:link,cn:\"txt-r charttdd fw-400 fs-14 pd \",children:/*#__PURE__*/_jsx(Smallchart,{histData:every_nth(histData[_i],4),weekChange:tokens[_i].weekChange,col:chartCol[_i]})}),/*#__PURE__*/_jsxs(Td,{to:link,cn:\"txt-r pricetd fs-14\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",parseFloat(tokens[_i].price).toPrecision(4)]}),/*#__PURE__*/_jsx(\"br\",{className:\"pdd\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"txt-r pctd fw-400 fs-12 pd \"+dayCol[_i],children:[parseFloat(tokens[_i].dayChange).toFixed(2),\"%\"]})]}),/*#__PURE__*/_jsx(Td,{to:link,cn:\"txt-r pctd pdn \",children:/*#__PURE__*/_jsxs(\"span\",{className:\"fw-400 fs-14 pdn \"+dayCol[_i],children:[parseFloat(tokens[_i].dayChange).toFixed(2),\"%\"]})}),/*#__PURE__*/_jsx(Td,{to:link,cn:\"txt-r pctd pdn \",children:/*#__PURE__*/_jsxs(\"span\",{className:\"fw-400 fs-14 pdn \"+weekCol[_i],children:[parseFloat(tokens[_i].weekChange).toFixed(2),\"%\"]})}),/*#__PURE__*/_jsx(Td,{to:link,cn:\"txt-r pricetd pdn \",children:/*#__PURE__*/_jsxs(\"span\",{className:\"fw-400 fs-14 pdn \",children:[\"$\",numberWithCommas(tokens[_i].tvl.toFixed(2))]})}),/*#__PURE__*/_jsx(Td,{to:link,cn:\"txt-r suptd pdn \",children:/*#__PURE__*/_jsx(\"span\",{className:\"fw-400 fs-14 pdn \",children:abbreviateNumber(tokens[_i].supply)})}),/*#__PURE__*/_jsx(Td,{to:link,cn:\"txt-r charttd pdn \",children:/*#__PURE__*/_jsx(Smallchart,{histData:every_nth(histData[_i],3),weekChange:tokens[_i].weekChange,col:chartCol[_i]})})]},_i));}return/*#__PURE__*/_jsxs(\"table\",{className:\"w-full\",id:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"\",children:/*#__PURE__*/_jsxs(\"tr\",{className:\"\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"txt-l fs-12 c-ab pdn psnu\",children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{className:\"txt-l fs-12 c-ab pdn psna\",colSpan:\"2\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"txt-r fs-12 c-ab pdn\",colSpan:\"2\",children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{className:\"txt-r fs-12 c-ab pdn\",children:\"24h%\"}),/*#__PURE__*/_jsx(\"th\",{className:\"txt-r fs-12 c-ab pdn\",children:\"7d%\"}),/*#__PURE__*/_jsx(\"th\",{className:\"txt-r fs-12 c-ab pdn\",children:\"TVL\"}),/*#__PURE__*/_jsx(\"th\",{className:\"txt-r fs-12 c-ab pdn\",children:\"Supply\"}),/*#__PURE__*/_jsx(\"th\",{className:\"txt-r fs-12 c-ab pdn\",children:\"7d Chart\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:table})]});}}}]);return Tokens;}(React.Component);export{Tokens as default};","map":{"version":3,"sources":["/Users/dimashkabura/Desktop/code/kardia-info/src/Tokens.js"],"names":["React","Loader","Smallchart","Td","Tokens","props","state","error","isLoaded","data","document","title","Promise","all","fetch","then","res","json","urlData","setState","message","numberWithCommas","x","toString","replace","abbreviateNumber","num","fixed","b","toPrecision","split","k","length","Math","floor","min","slice","c","toFixed","pow","d","abs","e","table","combinedVal","tokens","dayCol","weekCol","histData","chartCol","sort","a","tvl","i","dayChange","weekChange","push","reverse","every_nth","arr","nth","filter","link","symbol","name","logo","parseFloat","price","supply","Component"],"mappings":"08BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,UAAP,KAAuB,yBAAvB,CACA,MAAOC,CAAAA,EAAP,KAAe,+BAAf,C,2FAEqBC,CAAAA,M,4GACnB,gBAAYC,KAAZ,CAAmB,wCACjB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACXC,KAAK,CAAE,IADI,CAEXC,QAAQ,CAAE,KAFC,CAGXC,IAAI,CAAE,EAHK,CAAb,CAFiB,aAOlB,C,oDAED,4BAAoB,iBAClBC,QAAQ,CAACC,KAAT,wBACAC,OAAO,CAACC,GAAR,CAAY,CACVC,KAAK,CAAC,mCAAD,CAAL,CAA2CC,IAA3C,CAAgD,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EAAnD,CADU,CAAZ,EAEGF,IAFH,CAEQ,cAAe,kCAAbG,OAAa,UACrB,MAAI,CAACC,QAAL,CAAc,CACZX,QAAQ,CAAE,IADE,CAEZC,IAAI,CAAES,OAFM,CAAd,EAID,CAPD,CAQE,SAACX,KAAD,CAAW,CACT,MAAI,CAACY,QAAL,CAAc,CACZX,QAAQ,CAAE,IADE,CAEZD,KAAK,CAALA,KAFY,CAAd,EAID,CAbH,EAeD,C,sBAGD,iBAAS,CACP,gBAAkC,KAAKD,KAAvC,CAAQC,KAAR,aAAQA,KAAR,CAAeC,QAAf,aAAeA,QAAf,CAAyBC,IAAzB,aAAyBA,IAAzB,CACA,GAAIF,KAAJ,CAAW,CACT,mBAAO,iCAAaA,KAAK,CAACa,OAAnB,GAAP,CACD,CAFD,IAGK,IAAI,CAACZ,QAAL,CAAe,CAClB,mBAAO,KAAC,MAAD,IAAP,CACD,CAFI,IAGA,IAYMa,CAAAA,gBAZN,CAYH,QAASA,CAAAA,gBAAT,CAA0BC,CAA1B,CAA6B,CAC3B,MAAOA,CAAAA,CAAC,CAACC,QAAF,GAAaC,OAAb,CAAqB,uBAArB,CAA8C,GAA9C,CAAP,CACD,CAdE,CACH,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAAUC,GAAV,CAAeC,KAAf,CAAsB,CAC7C,GAAID,GAAG,GAAK,IAAZ,CAAkB,CAAE,MAAO,KAAP,CAAc,CAAC;AACnC,GAAIA,GAAG,GAAK,CAAZ,CAAe,CAAE,MAAO,GAAP,CAAa,CAAC;AAC/BC,KAAK,CAAI,CAACA,KAAD,EAAUA,KAAK,CAAG,CAAnB,CAAwB,CAAxB,CAA4BA,KAApC,CAA2C;AAC3C,GAAIC,CAAAA,CAAC,CAAIF,GAAD,CAAMG,WAAN,CAAkB,CAAlB,EAAqBC,KAArB,CAA2B,GAA3B,CAAR,CAAyC;AACvCC,CAAC,CAAGH,CAAC,CAACI,MAAF,GAAa,CAAb,CAAiB,CAAjB,CAAqBC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,GAAL,CAASP,CAAC,CAAC,CAAD,CAAD,CAAKQ,KAAL,CAAW,CAAX,CAAT,CAAwB,EAAxB,EAA8B,CAAzC,CAD3B,CACwE;AACtEC,CAAC,CAAGN,CAAC,CAAG,CAAJ,CAAQL,GAAG,CAACY,OAAJ,CAAY,EAAIX,KAAhB,CAAR,CAAiC,CAACD,GAAG,CAAGO,IAAI,CAACM,GAAL,CAAS,EAAT,CAAaR,CAAC,CAAG,CAAjB,CAAP,EAA4BO,OAA5B,CAAoC,EAAIX,KAAxC,CAFvC,CAEuF;AACrFa,CAAC,CAAGH,CAAC,CAAG,CAAJ,CAAQA,CAAR,CAAYJ,IAAI,CAACQ,GAAL,CAASJ,CAAT,CAHlB,CAG+B;AAC7BK,CAAC,CAAGF,CAAC,CAAG,CAAC,EAAD,CAAK,GAAL,CAAU,GAAV,CAAe,GAAf,CAAoB,GAApB,EAAyBT,CAAzB,CAJV,CAIuC;AACvC,MAAOW,CAAAA,CAAP,CACD,CAVD,CAcA,GAAIC,CAAAA,KAAK,CAAG,EAAZ,CACA,GAAIC,CAAAA,WAAW,CAAG,CAAlB,CAEA,GAAIC,CAAAA,MAAM,CAAG,EAAb,CACA,GAAIC,CAAAA,MAAM,CAAG,EAAb,CACA,GAAIC,CAAAA,OAAO,CAAG,EAAd,CACA,GAAIC,CAAAA,QAAQ,CAAG,EAAf,CACA,GAAIC,CAAAA,QAAQ,CAAG,EAAf,CAEAJ,MAAM,CAAGpC,IAAI,CAACoC,MAAd,CACAA,MAAM,CAACK,IAAP,CAAY,SAACC,CAAD,CAAIvB,CAAJ,CAAU,CACpB,MAAOA,CAAAA,CAAC,CAACwB,GAAF,CAAQD,CAAC,CAACC,GAAjB,CACD,CAFD,EAIA,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGR,MAAM,CAACb,MAA3B,CAAmCqB,CAAC,EAApC,CAAwC,CACtCT,WAAW,CAAGA,WAAW,CAAGC,MAAM,CAACQ,CAAD,CAAN,CAAUD,GAAtC,CACA,GAAIP,MAAM,CAACQ,CAAD,CAAN,CAAUC,SAAV,CAAsB,CAA1B,CAA6B,CAC3BR,MAAM,CAACO,CAAD,CAAN,CAAY,OAAZ,CACD,CAFD,IAGK,IAAIR,MAAM,CAACQ,CAAD,CAAN,CAAUC,SAAV,GAAwB,CAA5B,CAA+B,CAClCR,MAAM,CAACO,CAAD,CAAN,CAAY,QAAZ,CACD,CAFI,IAGA,IAAIR,MAAM,CAACQ,CAAD,CAAN,CAAUC,SAAV,CAAsB,CAA1B,CAA6B,CAChCR,MAAM,CAACO,CAAD,CAAN,CAAY,SAAZ,CACD,CAFI,IAGA,CACHP,MAAM,CAACO,CAAD,CAAN,CAAY,QAAZ,CACD,CACD,GAAIR,MAAM,CAACQ,CAAD,CAAN,CAAUE,UAAV,CAAuB,CAA3B,CAA8B,CAC5BR,OAAO,CAACM,CAAD,CAAP,CAAa,OAAb,CACAJ,QAAQ,CAACI,CAAD,CAAR,CAAc,SAAd,CACD,CAHD,IAIK,IAAIR,MAAM,CAACQ,CAAD,CAAN,CAAUE,UAAV,GAAyB,CAA7B,CAAgC,CACnCR,OAAO,CAACM,CAAD,CAAP,CAAa,QAAb,CACAJ,QAAQ,CAACI,CAAD,CAAR,CAAc,SAAd,CACD,CAHI,IAIA,IAAIR,MAAM,CAACQ,CAAD,CAAN,CAAUE,UAAV,CAAuB,CAA3B,CAA8B,CACjCR,OAAO,CAACM,CAAD,CAAP,CAAa,SAAb,CACAJ,QAAQ,CAACI,CAAD,CAAR,CAAc,SAAd,CACD,CAHI,IAIA,CACHN,OAAO,CAACM,CAAD,CAAP,CAAa,QAAb,CACA,GAAIR,MAAM,CAACQ,CAAD,CAAN,CAAUL,QAAV,CAAmB,CAAnB,EAAwBH,MAAM,CAACQ,CAAD,CAAN,CAAUL,QAAV,CAAmBH,MAAM,CAACQ,CAAD,CAAN,CAAUL,QAAV,CAAmBhB,MAAnB,CAA4B,CAA/C,CAA5B,CAA+E,CAC7EiB,QAAQ,CAACI,CAAD,CAAR,CAAc,SAAd,CACD,CAFD,IAGK,IAAIR,MAAM,CAACQ,CAAD,CAAN,CAAUL,QAAV,CAAmB,CAAnB,EAAwBH,MAAM,CAACQ,CAAD,CAAN,CAAUL,QAAV,CAAmBH,MAAM,CAACQ,CAAD,CAAN,CAAUL,QAAV,CAAmBhB,MAAnB,CAA4B,CAA/C,CAA5B,CAA+E,CAClFiB,QAAQ,CAACI,CAAD,CAAR,CAAc,SAAd,CACD,CAFI,IAGA,CACHJ,QAAQ,CAACI,CAAD,CAAR,CAAc,SAAd,CACD,CACF,CACDL,QAAQ,CAACQ,IAAT,CAAc,mBAAIX,MAAM,CAACQ,CAAD,CAAN,CAAUL,QAAd,EAAwBS,OAAxB,EAAd,EACD,CACD,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,GAAD,CAAMC,GAAN,QAAcD,CAAAA,GAAG,CAACE,MAAJ,CAAW,SAACnB,CAAD,CAAIW,CAAJ,QAAUA,CAAAA,CAAC,CAAGO,GAAJ,GAAYA,GAAG,CAAG,CAA5B,EAAX,CAAd,EAAlB,CAEA,IAAK,GAAIP,CAAAA,EAAC,CAAG,CAAb,CAAgBA,EAAC,CAAGR,MAAM,CAACb,MAA3B,CAAmCqB,EAAC,EAApC,CAAwC,CACtC,GAAIS,CAAAA,IAAI,mBAAcjB,MAAM,CAACQ,EAAD,CAAN,CAAUU,MAAV,CAAiBvC,OAAjB,CAAyB,MAAzB,CAAiC,GAAjC,CAAd,CAAR,CACAmB,KAAK,CAACa,IAAN,cACE,YAAY,SAAS,CAAC,WAAtB,wBACE,KAAC,EAAD,EAAI,EAAE,CAAC,sBAAP,CAA8B,EAAE,CAAEM,IAAlC,uBACE,aAAM,SAAS,CAAC,0BAAhB,UAA4CT,EAAC,CAAG,CAAhD,EADF,EADF,cAIE,KAAC,EAAD,EAAI,EAAE,CAAC,uBAAP,CAA+B,EAAE,CAAES,IAAnC,uBACE,YAAK,GAAG,CAAEjB,MAAM,CAACQ,EAAD,CAAN,CAAUW,IAApB,CAA0B,SAAS,CAAC,kBAApC,CAAuD,GAAG,CAAEnB,MAAM,CAACQ,EAAD,CAAN,CAAUY,IAAtE,EADF,EAJF,cAOE,MAAC,EAAD,EAAI,EAAE,CAAC,iBAAP,CAAyB,EAAE,CAAEH,IAA7B,wBACE,aAAM,SAAS,CAAC,OAAhB,UAAyBjB,MAAM,CAACQ,EAAD,CAAN,CAAUW,IAAnC,EADF,cAEE,aAFF,cAGE,cAAM,SAAS,CAAC,kBAAhB,WAAoCnB,MAAM,CAACQ,EAAD,CAAN,CAAUU,MAA9C,cAAqD,cAAM,SAAS,CAAC,qBAAhB,uBAAgDtC,gBAAgB,CAACoB,MAAM,CAACQ,EAAD,CAAN,CAAUD,GAAX,CAAhE,GAArD,GAHF,GAPF,cAYE,KAAC,EAAD,EAAI,EAAE,CAAEU,IAAR,CAAc,EAAE,CAAC,iCAAjB,uBACE,KAAC,UAAD,EAAY,QAAQ,CAAEJ,SAAS,CAACV,QAAQ,CAACK,EAAD,CAAT,CAAc,CAAd,CAA/B,CAAiD,UAAU,CAAER,MAAM,CAACQ,EAAD,CAAN,CAAUE,UAAvE,CAAmF,GAAG,CAAEN,QAAQ,CAACI,EAAD,CAAhG,EADF,EAZF,cAeE,MAAC,EAAD,EAAI,EAAE,CAAES,IAAR,CAAc,EAAE,CAAC,qBAAjB,wBACE,4BAAQI,UAAU,CAACrB,MAAM,CAACQ,EAAD,CAAN,CAAUc,KAAX,CAAV,CAA4BtC,WAA5B,CAAwC,CAAxC,CAAR,GADF,cAEE,WAAI,SAAS,CAAC,KAAd,EAFF,cAGE,cAAM,SAAS,CAAE,8BAAgCiB,MAAM,CAACO,EAAD,CAAvD,WAA6Da,UAAU,CAACrB,MAAM,CAACQ,EAAD,CAAN,CAAUC,SAAX,CAAV,CAAgChB,OAAhC,CAAwC,CAAxC,CAA7D,OAHF,GAfF,cAoBE,KAAC,EAAD,EAAI,EAAE,CAAEwB,IAAR,CAAc,EAAE,CAAE,iBAAlB,uBAAqC,cAAM,SAAS,CAAE,oBAAsBhB,MAAM,CAACO,EAAD,CAA7C,WAAmDa,UAAU,CAACrB,MAAM,CAACQ,EAAD,CAAN,CAAUC,SAAX,CAAV,CAAgChB,OAAhC,CAAwC,CAAxC,CAAnD,OAArC,EApBF,cAqBE,KAAC,EAAD,EAAI,EAAE,CAAEwB,IAAR,CAAc,EAAE,CAAE,iBAAlB,uBAAqC,cAAM,SAAS,CAAE,oBAAsBf,OAAO,CAACM,EAAD,CAA9C,WAAoDa,UAAU,CAACrB,MAAM,CAACQ,EAAD,CAAN,CAAUE,UAAX,CAAV,CAAiCjB,OAAjC,CAAyC,CAAzC,CAApD,OAArC,EArBF,cAsBE,KAAC,EAAD,EAAI,EAAE,CAAEwB,IAAR,CAAc,EAAE,CAAC,oBAAjB,uBAAsC,cAAM,SAAS,CAAC,mBAAhB,eAAsCzC,gBAAgB,CAACwB,MAAM,CAACQ,EAAD,CAAN,CAAUD,GAAV,CAAcd,OAAd,CAAsB,CAAtB,CAAD,CAAtD,GAAtC,EAtBF,cAuBE,KAAC,EAAD,EAAI,EAAE,CAAEwB,IAAR,CAAc,EAAE,CAAC,kBAAjB,uBAAoC,aAAM,SAAS,CAAC,mBAAhB,UAAqCrC,gBAAgB,CAACoB,MAAM,CAACQ,EAAD,CAAN,CAAUe,MAAX,CAArD,EAApC,EAvBF,cAwBE,KAAC,EAAD,EAAI,EAAE,CAAEN,IAAR,CAAc,EAAE,CAAC,oBAAjB,uBAAsC,KAAC,UAAD,EAAY,QAAQ,CAAEJ,SAAS,CAACV,QAAQ,CAACK,EAAD,CAAT,CAAc,CAAd,CAA/B,CAAiD,UAAU,CAAER,MAAM,CAACQ,EAAD,CAAN,CAAUE,UAAvE,CAAmF,GAAG,CAAEN,QAAQ,CAACI,EAAD,CAAhG,EAAtC,EAxBF,GAASA,EAAT,CADF,EA6BD,CACD,mBACE,eAAO,SAAS,CAAC,QAAjB,CAA0B,EAAE,CAAC,OAA7B,wBACE,cAAO,SAAS,CAAC,EAAjB,uBACE,YAAI,SAAS,CAAC,EAAd,wBACE,WAAI,SAAS,CAAC,2BAAd,eADF,cAEE,WAAI,SAAS,CAAC,2BAAd,CAA0C,OAAO,CAAC,GAAlD,kBAFF,cAGE,WAAI,SAAS,CAAC,sBAAd,CAAqC,OAAO,CAAC,GAA7C,mBAHF,cAIE,WAAI,SAAS,CAAC,sBAAd,kBAJF,cAKE,WAAI,SAAS,CAAC,sBAAd,iBALF,cAME,WAAI,SAAS,CAAC,sBAAd,iBANF,cAOE,WAAI,SAAS,CAAC,sBAAd,oBAPF,cAQE,WAAI,SAAS,CAAC,sBAAd,sBARF,GADF,EADF,cAaE,uBACGV,KADH,EAbF,GADF,CAmBD,CACF,C,oBAjKiC3C,KAAK,CAACqE,S,SAArBjE,M","sourcesContent":["import React from 'react'\nimport Loader from './components/Loader';\nimport Smallchart from './components/Smallchart';\nimport Td from './components/subcomponents/Td';\n\nexport default class Tokens extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      isLoaded: false,\n      data: []\n    };\n  }\n\n  componentDidMount() {\n    document.title = `Tokens - Kardia info`;\n    Promise.all([\n      fetch('https://api.kardiainfo.com/tokens').then(res => res.json())\n    ]).then(([urlData]) => {\n      this.setState({\n        isLoaded: true,\n        data: urlData\n      });\n    },\n      (error) => {\n        this.setState({\n          isLoaded: true,\n          error\n        });\n      }\n    )\n  }\n\n\n  render() {\n    const { error, isLoaded, data } = this.state;\n    if (error) {\n      return <div>Error: {error.message}</div>;\n    }\n    else if (!isLoaded) {\n      return <Loader />;\n    }\n    else {\n      const abbreviateNumber = function (num, fixed) {\n        if (num === null) { return null; } // terminate early\n        if (num === 0) { return '0'; } // terminate early\n        fixed = (!fixed || fixed < 0) ? 0 : fixed; // number of decimal places to show\n        var b = (num).toPrecision(4).split(\"e\"), // get power\n          k = b.length === 1 ? 0 : Math.floor(Math.min(b[1].slice(1), 14) / 3), // floor at decimals, ceiling at trillions\n          c = k < 1 ? num.toFixed(0 + fixed) : (num / Math.pow(10, k * 3)).toFixed(1 + fixed), // divide by power\n          d = c < 0 ? c : Math.abs(c), // enforce -0 is 0\n          e = d + ['', 'k', 'm', 'b', 't'][k]; // append power\n        return e;\n      }\n      function numberWithCommas(x) {\n        return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n      }\n      var table = [];\n      var combinedVal = 0;\n\n      var tokens = [];\n      var dayCol = [];\n      var weekCol = [];\n      var histData = [];\n      var chartCol = [];\n\n      tokens = data.tokens;\n      tokens.sort((a, b) => {\n        return b.tvl - a.tvl;\n      });\n\n      for (let i = 0; i < tokens.length; i++) {\n        combinedVal = combinedVal + tokens[i].tvl;\n        if (tokens[i].dayChange < 0) {\n          dayCol[i] = 't-red'\n        }\n        else if (tokens[i].dayChange === 0) {\n          dayCol[i] = 't-grey'\n        }\n        else if (tokens[i].dayChange > 0) {\n          dayCol[i] = 't-green'\n        }\n        else {\n          dayCol[i] = 't-grey'\n        }\n        if (tokens[i].weekChange < 0) {\n          weekCol[i] = 't-red'\n          chartCol[i] = '#ea3943'\n        }\n        else if (tokens[i].weekChange === 0) {\n          weekCol[i] = 't-grey'\n          chartCol[i] = '#666666'\n        }\n        else if (tokens[i].weekChange > 0) {\n          weekCol[i] = 't-green'\n          chartCol[i] = '#16c784'\n        }\n        else {\n          weekCol[i] = 't-grey'\n          if (tokens[i].histData[0] > tokens[i].histData[tokens[i].histData.length - 1]) {\n            chartCol[i] = '#16c784'\n          }\n          else if (tokens[i].histData[0] < tokens[i].histData[tokens[i].histData.length - 1]) {\n            chartCol[i] = '#ea3943'\n          }\n          else {\n            chartCol[i] = '#666666'\n          }\n        }\n        histData.push([...tokens[i].histData].reverse())\n      }\n      const every_nth = (arr, nth) => arr.filter((e, i) => i % nth === nth - 1);\n\n      for (let i = 0; i < tokens.length; i++) {\n        let link = `/tokens/${tokens[i].symbol.replace(/\\s+/g, '_')}`\n        table.push(\n          <tr key={i} className=\"table-row\">\n            <Td cn=\"numtd trans-0-2 psnu\" to={link}>\n              <span className=\"txt-l fw-400 t-lg fs-14 \">{i + 1}</span>\n            </Td>\n            <Td cn=\"logotd trans-0-2 pslo\" to={link}>\n              <img alt={tokens[i].name} className=\"tokenlogo ab-c-m\" src={tokens[i].logo} />\n            </Td>\n            <Td cn=\"psnam trans-0-2\" to={link}>\n              <span className=\"fs-14\">{tokens[i].name}</span>\n              <br />\n              <span className=\"fs-12 t-s fw-400\">{tokens[i].symbol}<span className=\"pd fs-12 t-s fw-400\"> - Tvl: ${abbreviateNumber(tokens[i].tvl)}</span></span>\n            </Td>\n            <Td to={link} cn=\"txt-r charttdd fw-400 fs-14 pd \">\n              <Smallchart histData={every_nth(histData[i], 4)} weekChange={tokens[i].weekChange} col={chartCol[i]} />\n            </Td>\n            <Td to={link} cn=\"txt-r pricetd fs-14\">\n              <span>${parseFloat(tokens[i].price).toPrecision(4)}</span>\n              <br className=\"pdd\" />\n              <span className={\"txt-r pctd fw-400 fs-12 pd \" + dayCol[i]}>{parseFloat(tokens[i].dayChange).toFixed(2)}%</span>\n            </Td>\n            <Td to={link} cn={\"txt-r pctd pdn \"}><span className={\"fw-400 fs-14 pdn \" + dayCol[i]}>{parseFloat(tokens[i].dayChange).toFixed(2)}%</span></Td>\n            <Td to={link} cn={\"txt-r pctd pdn \"}><span className={\"fw-400 fs-14 pdn \" + weekCol[i]}>{parseFloat(tokens[i].weekChange).toFixed(2)}%</span></Td>\n            <Td to={link} cn=\"txt-r pricetd pdn \"><span className=\"fw-400 fs-14 pdn \">${numberWithCommas(tokens[i].tvl.toFixed(2))}</span></Td>\n            <Td to={link} cn=\"txt-r suptd pdn \"><span className=\"fw-400 fs-14 pdn \">{abbreviateNumber(tokens[i].supply)}</span></Td>\n            <Td to={link} cn=\"txt-r charttd pdn \"><Smallchart histData={every_nth(histData[i], 3)} weekChange={tokens[i].weekChange} col={chartCol[i]} /></Td>\n          </tr>\n\n        )\n      }\n      return (\n        <table className=\"w-full\" id=\"table\">\n          <thead className=\"\">\n            <tr className=\"\">\n              <th className=\"txt-l fs-12 c-ab pdn psnu\">#</th>\n              <th className=\"txt-l fs-12 c-ab pdn psna\" colSpan=\"2\">Name</th>\n              <th className=\"txt-r fs-12 c-ab pdn\" colSpan=\"2\">Price</th>\n              <th className=\"txt-r fs-12 c-ab pdn\">24h%</th>\n              <th className=\"txt-r fs-12 c-ab pdn\">7d%</th>\n              <th className=\"txt-r fs-12 c-ab pdn\">TVL</th>\n              <th className=\"txt-r fs-12 c-ab pdn\">Supply</th>\n              <th className=\"txt-r fs-12 c-ab pdn\">7d Chart</th>\n            </tr>\n          </thead>\n          <tbody>\n            {table}\n          </tbody>\n        </table>\n      )\n    }\n  }\n}\n\n"]},"metadata":{},"sourceType":"module"}