{"ast":null,"code":"var _jsxFileName = \"/Users/dimashkabura/Desktop/kardia-info/src/components/Walletdash.js\";\nimport Blockies from 'react-blockies';\nimport React from 'react';\nimport Loader from './Loader';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Tokens extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      isLoaded: false,\n      wallet: props.match.params.id,\n      kaibal: 0,\n      tokens: [],\n      tokensbal: [],\n      icon: \"\"\n    };\n  }\n\n  componentDidMount() {\n    Promise.all([fetch('https://api.kardiainfo.com/tokens').then(res => res.json()), fetch(`https://backend.kardiachain.io/api/v1/addresses/${this.state.wallet}/tokens`).then(res => res.json()), fetch(`https://backend.kardiachain.io/api/v1/addresses/${this.state.wallet}`).then(res => res.json())]).then(([urlData, url2Data, url3Data]) => {\n      document.title = `${this.state.wallet} - Kardia info`;\n      this.setState({\n        isLoaded: true,\n        tokens: urlData.tokens,\n        tokensbal: url2Data.data.data,\n        kaibal: parseFloat(url3Data.data.balance)\n      });\n    }, error => {\n      this.setState({\n        isLoaded: true,\n        error\n      });\n    });\n  }\n\n  render() {\n    const {\n      error,\n      isLoaded\n    } = this.state;\n\n    if (error) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Error: \", error.message]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 20\n      }, this);\n    } else if (!isLoaded) {\n      return /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 20\n      }, this);\n    } else {\n      if (this.state.tokensbal === null && this.state.kaibal === 0) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-t-20 p-l-20 p-r-20\",\n          children: [\"This seems to be an invalid wallet\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            className: \"t-bl t-d-none\",\n            to: \"/wallet\",\n            children: \"Click here to try again\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this);\n      } else {\n        var wal = this.state.wallet.substring(0, 5) + \"...\" + this.state.wallet.slice(this.state.wallet.length - 3);\n        var assets = [];\n        var total = 0;\n\n        for (let i = 0; i < this.state.tokens.length; i++) {\n          if (this.state.tokens[i].id === \"0xAF984E23EAA3E7967F3C5E007fbe397D8566D23d\") {\n            var obj = {\n              name: \"KardiaChain\",\n              logo: \"https://kardiachain-explorer.s3-ap-southeast-1.amazonaws.com/explorer.kardiachain.io/logo/AF984E23EAA3E7967F3C5E007fbe397D8566D23d.png\",\n              symbol: \"KAI\",\n              balance: parseFloat(this.state.kaibal / 10 ** 18),\n              usd: this.state.kaibal / 10 ** 18 * this.state.tokens[i].price\n            };\n            assets.push(obj);\n            total = total + obj.usd;\n            break;\n          }\n        }\n\n        for (let i = 0; i < this.state.tokensbal.length; i++) {\n          for (let b = 0; b < this.state.tokens.length; b++) {\n            if (this.state.tokensbal[i].contractAddress.toLowerCase() === this.state.tokens[b].id.toLowerCase() && this.state.tokensbal[i].balance != 0) {\n              obj = {\n                name: this.state.tokensbal[i].tokenName,\n                logo: this.state.tokens[b].logo,\n                symbol: this.state.tokensbal[i].tokenSymbol,\n                balance: this.state.tokensbal[i].balance / 10 ** this.state.tokensbal[i].tokenDecimals,\n                usd: this.state.tokens[b].price * this.state.tokensbal[i].balance / 10 ** this.state.tokensbal[i].tokenDecimals\n              };\n              assets.push(obj);\n              total = total + obj.usd;\n            }\n          }\n        }\n\n        assets.sort((a, b) => {\n          return b.usd - a.usd;\n        });\n        var table = [];\n\n        for (let i = 0; i < assets.length; i++) {\n          if (assets[i].balance < 1) {\n            assets[i].balance = assets[i].balance.toPrecision(4);\n          } else if (assets[i].balance > 1000) {\n            assets[i].balance = abbbr(assets[i].balance, 3);\n          }\n\n          table.push( /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"asset\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"l\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"fs-12 t-g m-l-12 m-r-12\",\n                children: i + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"assetname\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"tokenlogo m-l-12 m-r-12\",\n                  src: assets[i].logo\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"fs-14 m-b-5\",\n                    children: assets[i].name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 115,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"fs-12 t-s fw-400 m-t-5\",\n                    children: [\"Bal: \", assets[i].balance, \" \", assets[i].symbol]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 116,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 114,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"r fs-14\",\n              children: [\"$\", assets[i].usd.toFixed(6)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 29\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 25\n          }, this));\n        }\n\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"waltab\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"walsec\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"top\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"l\",\n                children: [/*#__PURE__*/_jsxDEV(Blockies, {\n                  seed: this.state.wallet,\n                  size: 10,\n                  scale: 4,\n                  className: \"identicon m-r-15\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 37\n                }, this), wal]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"r p-l-25\",\n                children: \"$\" + total.toFixed(2)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 29\n            }, this), table]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 21\n        }, this);\n      }\n    }\n  }\n\n}\n\nconst abbbr = function (num, fixed) {\n  if (num === null) {\n    return null;\n  } // terminate early\n\n\n  if (num === 0) {\n    return '0';\n  } // terminate early\n\n\n  fixed = !fixed || fixed < 0 ? 0 : fixed; // number of decimal places to show\n\n  var b = num.toPrecision(4).split(\"e\"),\n      // get power\n  k = b.length === 1 ? 0 : Math.floor(Math.min(b[1].slice(1), 14) / 3),\n      // floor at decimals, ceiling at trillions\n  c = k < 1 ? num.toFixed(0 + fixed) : (num / Math.pow(10, k * 3)).toFixed(1 + fixed),\n      // divide by power\n  d = c < 0 ? c : Math.abs(c),\n      // enforce -0 is 0\n  e = d + ['', 'k', 'm', 'b', 't'][k]; // append power\n\n  return e;\n};","map":{"version":3,"sources":["/Users/dimashkabura/Desktop/kardia-info/src/components/Walletdash.js"],"names":["Blockies","React","Loader","Link","Tokens","Component","constructor","props","state","error","isLoaded","wallet","match","params","id","kaibal","tokens","tokensbal","icon","componentDidMount","Promise","all","fetch","then","res","json","urlData","url2Data","url3Data","document","title","setState","data","parseFloat","balance","render","message","wal","substring","slice","length","assets","total","i","obj","name","logo","symbol","usd","price","push","b","contractAddress","toLowerCase","tokenName","tokenSymbol","tokenDecimals","sort","a","table","toPrecision","abbbr","toFixed","num","fixed","split","k","Math","floor","min","c","pow","d","abs","e"],"mappings":"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","sourcesContent":["import Blockies from 'react-blockies';\nimport React from 'react';\nimport Loader from './Loader';\nimport { Link } from 'react-router-dom';\n\nexport default class Tokens extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            error: null,\n            isLoaded: false,\n            wallet: props.match.params.id,\n            kaibal: 0,\n            tokens: [],\n            tokensbal: [],\n            icon: \"\"\n        };\n    }\n\n\n    componentDidMount() {\n        Promise.all([\n            fetch('https://api.kardiainfo.com/tokens').then(res => res.json()),\n            fetch(`https://backend.kardiachain.io/api/v1/addresses/${this.state.wallet}/tokens`).then(res => res.json()),\n            fetch(`https://backend.kardiachain.io/api/v1/addresses/${this.state.wallet}`).then(res => res.json())\n        ]).then(([urlData, url2Data, url3Data]) => {\n            document.title = `${this.state.wallet} - Kardia info`;\n\n            this.setState({\n                isLoaded: true,\n                tokens: urlData.tokens,\n                tokensbal: url2Data.data.data,\n                kaibal: parseFloat(url3Data.data.balance)\n            });\n        },\n            (error) => {\n                this.setState({\n                    isLoaded: true,\n                    error\n                });\n            }\n        )\n    }\n\n    render() {\n        const { error, isLoaded } = this.state;\n        if (error) {\n            return <div>Error: {error.message}</div>;\n        }\n        else if (!isLoaded) {\n            return <Loader />;\n        }\n        else {\n            if (this.state.tokensbal === null && this.state.kaibal === 0) {\n                return (\n                    <div className=\"p-t-20 p-l-20 p-r-20\">\n                        This seems to be an invalid wallet\n                        <br />\n                        <br />\n                        <Link className=\"t-bl t-d-none\" to=\"/wallet\">Click here to try again</Link>\n                    </div>\n                )\n            }\n            else {\n                var wal = this.state.wallet.substring(0, 5) + \"...\" + this.state.wallet.slice(this.state.wallet.length - 3);\n                var assets = []\n                var total = 0\n                for (let i = 0; i < this.state.tokens.length; i++) {\n                    if (this.state.tokens[i].id === \"0xAF984E23EAA3E7967F3C5E007fbe397D8566D23d\") {\n                        var obj = {\n                            name: \"KardiaChain\",\n                            logo: \"https://kardiachain-explorer.s3-ap-southeast-1.amazonaws.com/explorer.kardiachain.io/logo/AF984E23EAA3E7967F3C5E007fbe397D8566D23d.png\",\n                            symbol: \"KAI\",\n                            balance: parseFloat(this.state.kaibal / 10 ** 18),\n                            usd: this.state.kaibal / 10 ** 18 * this.state.tokens[i].price\n                        }\n                        assets.push(obj)\n                        total = total + obj.usd\n                        break;\n                    }\n                }\n                for (let i = 0; i < this.state.tokensbal.length; i++) {\n                    for (let b = 0; b < this.state.tokens.length; b++) {\n                        if (this.state.tokensbal[i].contractAddress.toLowerCase() === this.state.tokens[b].id.toLowerCase() && this.state.tokensbal[i].balance != 0) {\n                            obj = {\n                                name: this.state.tokensbal[i].tokenName,\n                                logo: this.state.tokens[b].logo,\n                                symbol: this.state.tokensbal[i].tokenSymbol,\n                                balance: this.state.tokensbal[i].balance / 10 ** this.state.tokensbal[i].tokenDecimals,\n                                usd: this.state.tokens[b].price * this.state.tokensbal[i].balance / 10 ** this.state.tokensbal[i].tokenDecimals\n                            }\n                            assets.push(obj)\n                            total = total + obj.usd\n                        }\n                    }\n                }\n                assets.sort((a, b) => {\n                    return b.usd - a.usd;\n                });\n                var table = []\n                for (let i = 0; i < assets.length; i++) {\n                    if (assets[i].balance < 1) {\n                        assets[i].balance = assets[i].balance.toPrecision(4)\n                    }\n                    else if (assets[i].balance > 1000) {\n                        assets[i].balance=abbbr(assets[i].balance,3)\n                    }\n                    table.push(\n                        <div key={i} className=\"asset\">\n                            <div className=\"l\">\n                                <span className=\"fs-12 t-g m-l-12 m-r-12\">{i + 1}</span>\n                                <div className=\"assetname\">\n                                    <img className=\"tokenlogo m-l-12 m-r-12\" src={assets[i].logo} />\n                                    <div>\n                                        <p className=\"fs-14 m-b-5\">{assets[i].name}</p>\n                                        <p className=\"fs-12 t-s fw-400 m-t-5\">Bal: {assets[i].balance} {assets[i].symbol}</p>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className=\"r fs-14\">\n                                ${assets[i].usd.toFixed(6)}\n                            </div>\n                        </div>\n                    )\n                }\n                return (\n                    <div className=\"waltab\">\n                        <div className=\"walsec\">\n                            <div className=\"top\">\n                                <div className=\"l\">\n                                    <Blockies\n                                        seed={this.state.wallet}\n                                        size={10}\n                                        scale={4}\n                                        className=\"identicon m-r-15\"\n                                    />\n                                    {wal}\n                                </div>\n                                <div className=\"r p-l-25\">\n                                    {\"$\" + total.toFixed(2)}\n                                </div>\n                            </div>\n                            {table}\n                        </div>\n                    </div>\n                )\n            }\n        }\n    }\n}\n\nconst abbbr = function (num, fixed) {\n    if (num === null) { return null; } // terminate early\n    if (num === 0) { return '0'; } // terminate early\n    fixed = (!fixed || fixed < 0) ? 0 : fixed; // number of decimal places to show\n    var b = (num).toPrecision(4).split(\"e\"), // get power\n        k = b.length === 1 ? 0 : Math.floor(Math.min(b[1].slice(1), 14) / 3), // floor at decimals, ceiling at trillions\n        c = k < 1 ? num.toFixed(0 + fixed) : (num / Math.pow(10, k * 3)).toFixed(1 + fixed), // divide by power\n        d = c < 0 ? c : Math.abs(c), // enforce -0 is 0\n        e = d + ['', 'k', 'm', 'b', 't'][k]; // append power\n    return e;\n}"]},"metadata":{},"sourceType":"module"}