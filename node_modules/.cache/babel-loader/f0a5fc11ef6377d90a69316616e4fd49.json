{"ast":null,"code":"var _jsxFileName = \"/Users/dimashkabura/Desktop/kardia-info/src/components/Walletdash.js\";\nimport Blockies from 'react-blockies';\nimport React from 'react';\nimport Loader from './Loader';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Tokens extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      isLoaded: false,\n      wallet: props.match.params.id,\n      kaibal: 0,\n      tokens: [],\n      tokensbal: [],\n      icon: \"\"\n    };\n  }\n\n  componentDidMount() {\n    Promise.all([fetch('https://api.kardiainfo.com/tokens').then(res => res.json()), fetch(`https://backend.kardiachain.io/api/v1/addresses/${this.state.wallet}/tokens`).then(res => res.json()), fetch(`https://backend.kardiachain.io/api/v1/addresses/${this.state.wallet}`).then(res => res.json())]).then(([urlData, url2Data, url3Data]) => {\n      document.title = `${this.state.wallet} - Kardia info`;\n      this.setState({\n        isLoaded: true,\n        tokens: urlData.tokens,\n        tokensbal: url2Data.data.data,\n        kaibal: parseFloat(url3Data.data.balance)\n      });\n    }, error => {\n      this.setState({\n        isLoaded: true,\n        error\n      });\n    });\n  }\n\n  render() {\n    const {\n      error,\n      isLoaded\n    } = this.state;\n\n    if (error) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Error: \", error.message]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 20\n      }, this);\n    } else if (!isLoaded) {\n      return /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 20\n      }, this);\n    } else {\n      if (this.state.tokensbal === null && this.state.kaibal === 0) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-t-20 p-l-20 p-r-20\",\n          children: [\"This seems to be an invalid wallet\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            className: \"t-bl t-d-none\",\n            to: \"/wallet\",\n            children: \"Click here to try again\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this);\n      } else {\n        var wal = this.state.wallet.substring(0, 5) + \"...\" + this.state.wallet.substring(-3);\n        var assets = [];\n        var total = 0;\n\n        for (let i = 0; i < this.state.tokens.length; i++) {\n          if (this.state.tokens[i].id === \"0xAF984E23EAA3E7967F3C5E007fbe397D8566D23d\") {\n            var obj = {\n              name: \"KardiaChain\",\n              logo: \"https://kardiachain-explorer.s3-ap-southeast-1.amazonaws.com/explorer.kardiachain.io/logo/AF984E23EAA3E7967F3C5E007fbe397D8566D23d.png\",\n              symbol: \"KAI\",\n              balance: parseFloat(this.state.kaibal / 10 ** 18),\n              usd: this.state.kaibal / 10 ** 18 * this.state.tokens[i].price\n            };\n            assets.push(obj);\n            break;\n          }\n        }\n\n        for (let i = 0; i < this.state.tokensbal.length; i++) {\n          for (let b = 0; b < this.state.tokens.length; b++) {\n            if (this.state.tokensbal[i].contractAddress.toLowerCase() === this.state.tokens[b].id.toLowerCase() && this.state.tokensbal[i].balance != 0) {\n              obj = {\n                name: this.state.tokens[b].name,\n                name2: this.state.tokensbal[i].tokenName,\n                logo: this.state.tokens[b].logo,\n                symbol: this.state.tokensbal[i].tokenSymbol,\n                balance: this.state.tokensbal[i].balance / 10 ** this.state.tokensbal[i].tokenDecimals,\n                usd: this.state.tokens[b].price * this.state.tokensbal[i].balance / 10 ** this.state.tokensbal[i].tokenDecimals\n              };\n              assets.push(obj);\n              total = total + obj.usd;\n            }\n          }\n        }\n\n        assets.sort((a, b) => {\n          return b.usd - a.usd;\n        });\n        console.log(assets);\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Blockies, {\n            seed: this.state.wallet,\n            size: 10,\n            scale: 4,\n            className: \"identicon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 25\n          }, this), \"Wallet - \", this.state.wallet]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this);\n      }\n    }\n  }\n\n}","map":{"version":3,"sources":["/Users/dimashkabura/Desktop/kardia-info/src/components/Walletdash.js"],"names":["Blockies","React","Loader","Link","Tokens","Component","constructor","props","state","error","isLoaded","wallet","match","params","id","kaibal","tokens","tokensbal","icon","componentDidMount","Promise","all","fetch","then","res","json","urlData","url2Data","url3Data","document","title","setState","data","parseFloat","balance","render","message","wal","substring","assets","total","i","length","obj","name","logo","symbol","usd","price","push","b","contractAddress","toLowerCase","name2","tokenName","tokenSymbol","tokenDecimals","sort","a","console","log"],"mappings":"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","sourcesContent":["import Blockies from 'react-blockies';\nimport React from 'react';\nimport Loader from './Loader';\nimport { Link } from 'react-router-dom';\n\nexport default class Tokens extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            error: null,\n            isLoaded: false,\n            wallet: props.match.params.id,\n            kaibal: 0,\n            tokens: [],\n            tokensbal: [],\n            icon: \"\"\n        };\n    }\n\n\n    componentDidMount() {\n        Promise.all([\n            fetch('https://api.kardiainfo.com/tokens').then(res => res.json()),\n            fetch(`https://backend.kardiachain.io/api/v1/addresses/${this.state.wallet}/tokens`).then(res => res.json()),\n            fetch(`https://backend.kardiachain.io/api/v1/addresses/${this.state.wallet}`).then(res => res.json())\n        ]).then(([urlData, url2Data, url3Data]) => {\n            document.title = `${this.state.wallet} - Kardia info`;\n\n            this.setState({\n                isLoaded: true,\n                tokens: urlData.tokens,\n                tokensbal: url2Data.data.data,\n                kaibal: parseFloat(url3Data.data.balance)\n            });\n        },\n            (error) => {\n                this.setState({\n                    isLoaded: true,\n                    error\n                });\n            }\n        )\n    }\n\n    render() {\n        const { error, isLoaded } = this.state;\n        if (error) {\n            return <div>Error: {error.message}</div>;\n        }\n        else if (!isLoaded) {\n            return <Loader />;\n        }\n        else {\n            if(this.state.tokensbal === null && this.state.kaibal === 0){\n                return(\n                    <div className=\"p-t-20 p-l-20 p-r-20\">\n                        This seems to be an invalid wallet\n                        <br/>\n                        <br/>\n                        <Link className=\"t-bl t-d-none\" to=\"/wallet\">Click here to try again</Link>\n                    </div>\n                )\n            }\n            else{\n                var wal = this.state.wallet.substring(0,5) + \"...\" + this.state.wallet.substring(-3);\n                var assets=[]\n                var total=0\n                for(let i=0; i<this.state.tokens.length; i++){\n                    if(this.state.tokens[i].id===\"0xAF984E23EAA3E7967F3C5E007fbe397D8566D23d\"){\n                        var obj={\n                            name:\"KardiaChain\",\n                            logo:\"https://kardiachain-explorer.s3-ap-southeast-1.amazonaws.com/explorer.kardiachain.io/logo/AF984E23EAA3E7967F3C5E007fbe397D8566D23d.png\",\n                            symbol:\"KAI\",\n                            balance:parseFloat(this.state.kaibal/10**18),\n                            usd:this.state.kaibal/10**18*this.state.tokens[i].price\n                        }\n                        assets.push(obj)\n                        break;\n                    }\n                }\n                for(let i=0; i<this.state.tokensbal.length;i++){\n                    for(let b=0; b<this.state.tokens.length; b++){\n                        if(this.state.tokensbal[i].contractAddress.toLowerCase()===this.state.tokens[b].id.toLowerCase() && this.state.tokensbal[i].balance!=0){\n                            obj={\n                                name:this.state.tokens[b].name,\n                                name2:this.state.tokensbal[i].tokenName,\n                                logo:this.state.tokens[b].logo,\n                                symbol:this.state.tokensbal[i].tokenSymbol,\n                                balance:this.state.tokensbal[i].balance/10**this.state.tokensbal[i].tokenDecimals,\n                                usd:this.state.tokens[b].price*this.state.tokensbal[i].balance/10**this.state.tokensbal[i].tokenDecimals\n                            }\n                            assets.push(obj)\n                            total=total+obj.usd\n                        }\n                    }\n                }\n                assets.sort((a, b) => {\n                    return b.usd - a.usd;\n                });\n                console.log(assets)\n                return (\n                    <div>\n                        <Blockies\n                            seed={this.state.wallet}\n                            size={10} \n                            scale={4}\n                            className=\"identicon\" \n                        />\n                        Wallet - {this.state.wallet}\n                    </div>\n                )\n            }\n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}